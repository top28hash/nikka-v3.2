const { smd } = require("../lib");
const { runtime } = require("../lib"); // Assuming you have a runtime function for uptime

smd(
  {
    pattern: "last", 
    react: "â³ï¸", 
    desc: "Check the bot's latency and uptime", 
    category: "misc",
    filename: __filename,
  },
  async (m) => {
    try {
      const start = Date.now();

      // Calculate latency
      const latency = Date.now() - start;

      // Get the bot's uptime
      const uptime = runtime(process.uptime());

      // Enhanced style for the final message
      const finalMessage = `
â•­â”â”â”ã€˜ *ğŸ“¡ PING STATUS* ã€™â”â”â”â•®

      ğŸ¤– *Pong!*

      ğŸ“¶ *Latency:*  \`\`\`${latency}ms\`\`\`
      â³ *Uptime:*  \`\`\`${uptime}\`\`\`
      âš¡ *Server Speed:*  ğŸš€ *Optimal*

â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯

â•­â•â€¢|âœ¿| *ğ™‰ğ™„ğ™†ğ™†ğ˜¼ ğ˜½ğ™Šğ™ğ™• â±â¿á¶œ* |âœ¿|â€¢â•â•®
      ğŸ”° *reliable bot company by haki* ğŸ”°
â•°â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¯
      `;

      // Send the image with the more styled latency and uptime message as a caption
      await m.send(
        "https://files.catbox.moe/bh2fpj.jpg", // Replace with your image URL
        { caption: finalMessage },
        "img",
        m
      );

    } catch (e) {
      m.error(`${e}\n\nCommand: ping`, e, false);
    }
  }
);